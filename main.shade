module Main =

import Core
import Js
import Js.Console

@main
main =
    let a = 0 : 1 : 2 : 3 : 4 : Nil
    let b = map a fn x -> x * 2

    log $ spread $ toArray b


toArray list =
    let go = fn list arr -> case list of
        x : xs -> recur xs (push arr x)
        _ -> arr
    
    go list (new "Array")


class Map m =
    map :: m a -> (a -> b) -> m b

member List of Map =
    map list f = case list of
        x : xs -> f x : map xs f
        Nil -> Nil
